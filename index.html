<!DOCTYPE html>
<html>

<head>
    <title>QR Code Scanner</title>
    <script src="https://unpkg.com/@zxing/library@0.18.7"></script>
</head>

<body>
    <video id="videoElement"></video>
    <input type="text" id="qrResult" placeholder="Scanned QR Code Text" />
    <button id="scanButton">Scan QR Code</button>

    <script>
        const codeReader = new ZXing.BrowserQRCodeReader();
        const videoElement = document.getElementById('videoElement');
        const qrResultElement = document.getElementById('qrResult');
        const scanButton = document.getElementById('scanButton');

        function startScanning() {
            codeReader
                .decodeFromVideoDevice(null, 'videoElement', (result, error) => {
                    if (result) {
                        qrResultElement.value = result.text;
                    }
                    if (error && !(error instanceof ZXing.NotFoundException)) {
                        console.error(error);
                    }
                });
        }

        scanButton.addEventListener('click', () => {
            startScanning();
        });

        codeReader
            .listVideoInputDevices()
            .then(videoInputDevices => {
                const selectedDeviceId = videoInputDevices[0].deviceId;
                codeReader.decodeFromVideoDevice(selectedDeviceId, 'videoElement');
            })
            .catch(err => console.error(err));

        qrResultElement.addEventListener('keydown', event => {
            if (event.key === 'Enter') {
                event.preventDefault();
                const qrCodeText = qrResultElement.value;
                alert(qrCodeText);
                qrResultElement.value = '';
            }
        });
    </script>
</body>

</html>